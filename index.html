<!DOCTYPE html>
<html lang="fr" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover"
    />
    <title>StreamFlix ‚Äî Accueil</title>
    <meta
      name="description"
      content="Plateforme de streaming ‚Äî design type Netflix, responsive."
    />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E"
    />
    <script>
      // Early theme apply (works even if modules don't load)
      (function () {
        try {
          var t = localStorage.getItem("sf_theme");
          if (t) document.documentElement.setAttribute("data-theme", t);
        } catch (e) {}
      })();
    </script>
    <link rel="stylesheet" href="assets/css/global.css" />
    <link rel="stylesheet" href="assets/css/index.css" />
  </head>
  <body>
    <header class="site-header" data-sticky>
      <div class="container header-inner">
        <a class="brand" href="index.html" aria-label="StreamFlix accueil">
          <span class="brand-logo" aria-hidden="true">S</span>
          <span class="brand-text">StreamFlix</span>
        </a>
        <nav class="main-nav" id="primary-navigation" aria-label="Principale">
          <a href="#tendances" class="nav-link">Tendances</a>
          <a href="#populaire" class="nav-link">Populaire</a>
          <a href="#recent" class="nav-link">R√©cemment ajout√©s</a>
          <a href="#top10" class="nav-link">Top 10</a>
          <span class="nav-sep" aria-hidden="true"></span>
          <a href="browse.html" class="nav-link">Voir tous les films</a>
        </nav>
        <div class="header-actions">
          <button
            id="theme-toggle"
            class="btn ghost"
            aria-label="Changer le th√®me"
            title="Th√®me"
          >
            <span class="icon">üåì</span>
          </button>
          <button
            id="nav-toggle"
            class="btn ghost mobile-only"
            aria-label="Ouvrir le menu"
            aria-expanded="false"
            aria-controls="primary-navigation"
            title="Menu"
          >
            <span class="icon">‚ò∞</span>
          </button>
        </div>
      </div>
    </header>

    <main id="main">
      <section class="hero" id="hero">
        <div class="container hero-grid">
          <div class="hero-content">
            <p class="kicker" id="heroKicker">Original</p>
            <h1 class="hero-title" id="heroTitle">Aube Rouge</h1>
            <p class="hero-subtitle" id="heroSubtitle">
              Quand le monde s'effondre, une h√©ro√Øne se l√®ve. Un thriller
              futuriste haletant.
            </p>
            <div class="hero-actions">
              <a class="btn primary" id="heroPlayBtn" href="movie.html?id=1"
                >Lecture</a
              >
              <a class="btn ghost" href="#tendances">Bande-annonce</a>
            </div>
          </div>
          <div class="hero-media parallax-tilt" aria-hidden="true">
            <div class="poster-layer layer-extra"></div>
            <div class="poster-layer layer-back"></div>
            <div class="poster-layer layer-mid"></div>
            <div class="poster-layer layer-front" id="heroPosterlayer"></div>
          </div>
        </div>
      </section>

  <section id="tendances" class="section">
        <div class="container section-header">
          <h2 class="section-title">Tendances</h2>
        </div>
        <div class="container">
          <div
            class="grid movies"
            data-collection="trending"
            data-skeleton="20"
            data-skeleton-only="false"
          >
            <!-- Skeletons initiaux (gard√©s) -->
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
          </div>
        </div>
      </section>

  <section id="populaire" class="section">
        <div class="container section-header">
          <h2 class="section-title">Populaire</h2>
        </div>
        <div class="container">
          <div
            class="grid movies"
            data-collection="popular"
            data-skeleton="20"
            data-skeleton-only="false"
          >
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
          </div>
        </div>
      </section>

  <section id="recent" class="section">
        <div class="container section-header">
          <h2 class="section-title">R√©cemment ajout√©s</h2>
        </div>
        <div class="container">
          <div
            class="grid movies"
            data-collection="recent"
            data-skeleton="20"
            data-skeleton-only="false"
          >
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
          </div>
        </div>
      </section>

      <section id="top10" class="section">
        <div class="container section-header">
          <h2 class="section-title">Top 10</h2>
        </div>
        <div class="container">
          <div
            class="grid movies top10"
            data-collection="top10"
            data-skeleton="10"
            data-skeleton-only="false"
          >
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html">
                <div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div>
              </a>
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter √† la liste"
              >
                Ôºã
              </button>
            </article>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <nav class="footer-nav" aria-label="Secondaire">
          <a href="#">√Ä propos</a>
          <a href="#">Confidentialit√©</a>
          <a href="#">Cookies</a>
          <a href="#">Brownie</a>
          <a href="#">Cr√™pes</a>
        </nav>
        <p class="copyright">¬© 2025 StreamFlix</p>
      </div>
    </footer>

    <!-- Template carte : image simplifi√©e pour compatibilit√© -->
    <template id="movie-card-template">
      <article class="movie-card appear" data-id="">
        <a class="card-media-wrap" href="movie.html">
          <div class="card-media">
            <img
              class="card-img skeleton"
              alt=""
              loading="lazy"
              width="300"
              height="450"
              sizes="(min-width:1440px) 280px, (min-width:960px) 220px, (min-width:720px) 200px, 46vw"
            />
            <div class="card-overlay">
              <div class="overlay-inner">
                <h4 class="overlay-title"></h4>
                <p class="overlay-desc"></p>
                <div class="overlay-actions">
                  <button class="btn small primary" aria-label="Lecture">
                    ‚ñ∂ Lecture
                  </button>
                  <button class="btn small ghost" aria-label="Like">‚ù§</button>
                </div>
              </div>
            </div>
          </div>
          <div class="card-meta">
            <h3 class="card-title"></h3>
            <p class="card-subtitle"></p>
          </div>
        </a>
        <button
          class="card-action btn icon-only"
          aria-label="Ajouter √† la liste"
        >
          Ôºã
        </button>
      </article>
    </template>

    <script>
      // Fallback theme toggle (if modules fail)
      (function () {
        if (window.__sfThemeBound) return;
        var THEMES = ["dark", "light", "cinema"];
        function applyTheme(name) {
          if (THEMES.indexOf(name) < 0) name = "dark";
          document.documentElement.setAttribute("data-theme", name);
          try {
            localStorage.setItem("sf_theme", name);
          } catch (e) {}
        }
        var btn = document.getElementById("theme-toggle");
        if (btn) {
          btn.addEventListener("click", function () {
            var cur =
              document.documentElement.getAttribute("data-theme") || "dark";
            var next = THEMES[(THEMES.indexOf(cur) + 1) % THEMES.length];
            applyTheme(next);
          });
        }
        window.__sfThemeBound = true;
      })();
    </script>

    <!-- Main scripts -->
    <script src="assets/js/main.js"></script>
    <script type="module" src="assets/js/pages/home.js"></script>
  </body>
</html>
