/* =========================================================
   StreamFlix – INDEX (Home Netflix-like)
   - Hero (billboard) avec dégradé et fade-bottom
   - Rails horizontaux (scroll-snap) avec TON HTML existant
   - Cartes zoom/3D au hover
   - Skeleton & stagger
   - 5 breakpoints
========================================================= */

/* HERO / Billboard */
.hero{
  position:relative; min-height: clamp(64vh, 70vh, 82vh);
  display:grid; align-items:end; padding-block: 14vh 8vh;
}
.hero__media{
  position:absolute; inset:0;
  background-image:
    radial-gradient(1200px 400px at 20% 0%, rgba(0,0,0,.55), transparent 60%),
    var(--hero-img);
  background-size: cover; background-position: center;
  filter: brightness(.92);
}
.hero__media::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.10) 0%, rgba(0,0,0,.30) 40%, rgba(0,0,0,.88) 100%);
}
.hero__content{ position:relative; z-index:1; }
.hero__title{ font-size: clamp(2rem, 1.2rem + 4vw, 4rem); line-height:1.05; font-weight:800; letter-spacing:.2px; margin:.25rem 0 .25rem; }
.badge{ background: var(--accent); color:#fff; border-radius:.5rem; padding:.2rem .6rem; font-weight:800; font-size:.85rem; margin-right:.5rem; }
.hero__meta{ color: var(--text-muted); margin: .25rem 0 .75rem; }
.hero__desc{ max-width: 60ch; font-size: var(--fs-1); color:#ededed; margin: 0 0 1rem; }
.hero__actions{ display:flex; gap:.75rem; }

/* PAGE CONTENT */
.page__content{ position:relative; margin-top:-3vh; }

/* Titre de section */
.row{ padding-block: var(--space-3); }
.row__head{ display:flex; align-items:baseline; justify-content:space-between; gap:var(--space-2); margin-bottom: .5rem; }
.row__title{ margin:0; font-size: var(--fs-2); }
.row__cta{ color: var(--text-muted); font-weight:600; }
.row__cta:hover{ color: var(--text); }

/* === RAILS HORIZONTAUX ===
   On garde TON HTML .row__grid mais on le transforme en rail horizontal */
.row__grid{
  display:flex;
  gap:.5rem;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;
  scroll-padding-inline: .5rem;
  padding-bottom: .25rem;
}
.row__grid::-webkit-scrollbar { height: 0; }

/* Largeur des cartes (sans changer le HTML) */
.row__grid > .card{
  flex: 0 0 var(--tile-w);
  scroll-snap-align: start;
}

/* Hover des cartes (Netflix-like léger) */
.card:hover .card__media img{ transform: scale(1.03); filter: saturate(1.05); transition: transform var(--dur-mid) var(--ease), filter var(--dur-mid) var(--ease); }

/* Skeleton scan optionnel */
.skeleton-mask{
  position:absolute; inset:0 auto auto 0; height:180px; width:50%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  transform: translateX(-100%);
  animation: skeleton-scan 1.6s var(--ease) infinite;
  pointer-events:none; opacity:.35;
}
@keyframes skeleton-scan{ from{ transform: translateX(-100%);} to{ transform: translateX(200%);} }

/* Staggered reveal (apparition des cartes) */
@keyframes fadeUp{ from{opacity:0; transform:translateY(8px);} to{opacity:1; transform:translateY(0);} }
.row__grid > *{ opacity:0; animation: fadeUp .6s var(--ease) forwards; }
.row__grid > *:nth-child(1){ animation-delay:.06s; }
.row__grid > *:nth-child(2){ animation-delay:.12s; }
.row__grid > *:nth-child(3){ animation-delay:.18s; }
.row__grid > *:nth-child(4){ animation-delay:.24s; }
.row__grid > *:nth-child(5){ animation-delay:.30s; }
.row__grid > *:nth-child(6){ animation-delay:.36s; }

/* RANK (Top 10) : déjà présent en HTML via .card--ranked + .card__rank */

/* BREAKPOINTS — ajustent la largeur de carte (exact Netflix feel) */
@media (min-width: 480px){
  :root{ --tile-w: var(--tile-w-sm); }
}
@media (min-width: 640px){
  :root{ --tile-w: var(--tile-w-md); }
}
@media (min-width: 1024px){
  :root{ --tile-w: var(--tile-w-lg); }
}
@media (min-width: 1280px){
  :root{ --tile-w: var(--tile-w-xl); }
}
@media (prefers-reduced-motion: reduce){
  .hero__media::after, .card, .card__media img, .row__grid > * { transition: none !important; animation: none !important; }
}
