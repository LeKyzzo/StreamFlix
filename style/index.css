/* =========================================================
   StreamFlix – INDEX (Home Netflix-like)
   - Hero (billboard)
   - Rails horizontaux (scroll-snap)
   - Trending 16:9
   - Top 10 : numéro géant à gauche + jaquette 2:3 à droite
   - Animations safe
========================================================= */

/* HERO / Billboard */
.hero{
  position:relative; min-height: clamp(56vh, 64vh, 76vh);
  display:grid; align-items:end; padding-block: 14vh 8vh;
}
.hero__media{
  position:absolute; inset:0;
  background-image:
    radial-gradient(1200px 400px at 20% 0%, rgba(0,0,0,.55), transparent 60%),
    var(--hero-img);
  background-size: cover; background-position: center;
  filter: brightness(.92);
}
.hero__media::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.10) 0%, rgba(0,0,0,.30) 40%, rgba(0,0,0,.88) 100%);
}
.hero__content{ position:relative; z-index:1; }
.hero__title{ font-size: clamp(2rem, 1.2rem + 4vw, 3.6rem); line-height:1.05; font-weight:900; letter-spacing:.2px; margin:.25rem 0 .25rem; }
.badge{ background: var(--accent); color:#fff; border-radius:.35rem; padding:.2rem .6rem; font-weight:800; font-size:.85rem; margin-right:.5rem; }
.hero__meta{ color: var(--text-muted); margin: .25rem 0 .75rem; }
.hero__desc{ max-width: 60ch; font-size: var(--fs-1); color:#ededed; margin: 0 0 1rem; }
.hero__actions{ display:flex; gap:.75rem; }
.btn--primary{ background:#fff; color:#000; }
.btn--ghost{ background: rgba(255,255,255,.2); }

/* PAGE CONTENT */
.page__content{ position:relative; margin-top:-3vh; }

/* Titre de section */
.row{ padding-block: 1.25rem; }
.row__head{ display:flex; align-items:baseline; justify-content:space-between; gap:1rem; margin-bottom: .25rem; }
.row__title{ margin:0; font-size: 1.25rem; font-weight: 900; }
.row__cta{ color: #a3a3a3; font-weight:600; }
.row__cta:hover{ color:#fff; }

/* Rails horizontaux */
.row__grid{
  display:flex;
  gap:.7rem;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x proximity;
  scroll-padding-inline: .5rem;
  padding: .25rem 0 .35rem;
}
.row__grid::-webkit-scrollbar { height: 0; }

/* Cartes 16:9 (Trending / Ma liste) */
.row__grid > .card{
  flex: 0 0 var(--tile-w);
  scroll-snap-align: start;
}

/* === TOP 10 : numéro géant à gauche + jaquette 2:3 === */
.row__grid .card--ranked{
  display: flex;
  align-items: flex-end;
  gap: .5rem;
  flex: 0 0 auto;
}

.row__grid .card--ranked .card__rank {
  position: static;
  flex-shrink: 0;
  margin-left: .25rem;
  font-weight: 900;
  font-size: clamp(3rem, 6vw + 1rem, 8rem);
  line-height: 1;
  color: transparent;
  -webkit-text-stroke: 4px #fff;
  text-shadow: 0 2px 6px rgba(0,0,0,.7);
}

.row__grid .card--ranked .card__media {
  flex: 0 0 auto;
}

.row__grid .card--ranked .card__media img {
  aspect-ratio: 2 / 3;
  width: 120px;   /* ajuste la taille des jaquettes */
  height: auto;
  border-radius: .6rem;
}

/* Hover — grossir l’image + overlay */
.card:hover .card__media img{
  transform: scale(1.07);
}
.card:hover .card__overlay{ opacity: 1; transform: translateY(0); }

/* Skeleton */
@keyframes skeleton-scan{ from{ transform: translateX(-100%);} to{ transform: translateX(200%);} }
.skeleton-mask{
  position:absolute; inset:0 auto auto 0; height:160px; width:50%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  transform: translateX(-100%);
  animation: skeleton-scan 1.6s var(--ease) infinite;
  pointer-events:none; opacity:.30;
}

/* Apparition simple */
@keyframes fadeInOnly { from { opacity: 0; } to { opacity: 1; } }
.row__grid > *{ opacity: 0; animation: fadeInOnly .45s var(--ease) forwards; }
.row__grid > *:nth-child(1){ animation-delay:.06s; }
.row__grid > *:nth-child(2){ animation-delay:.12s; }
.row__grid > *:nth-child(3){ animation-delay:.18s; }
.row__grid > *:nth-child(4){ animation-delay:.24s; }
.row__grid > *:nth-child(5){ animation-delay:.30s; }
.row__grid > *:nth-child(6){ animation-delay:.36s; }

/* Breakpoints */
@media (min-width: 480px){ :root{ --tile-w: var(--tile-w-sm); } }
@media (min-width: 640px){
  :root{ --tile-w: var(--tile-w-md); }
  .row__grid .card--ranked .card__media img{ width: 130px; }
  .row__grid .card--ranked .card__rank{ font-size: 7rem; }
}
@media (min-width: 1024px){
  :root{ --tile-w: var(--tile-w-lg); }
  .row__grid .card--ranked .card__media img{ width: 140px; }
  .row__grid .card--ranked .card__rank{ font-size: 8rem; }
}
@media (min-width: 1280px){
  :root{ --tile-w: var(--tile-w-xl); }
  .row__grid .card--ranked .card__media img{ width: 160px; }
  .row__grid .card--ranked .card__rank{ font-size: 9rem; }
}

/* A11y & motion */
@media (prefers-reduced-motion: reduce){
  .hero__media::after, .card__media img, .row__grid > * { transition: none !important; animation: none !important; }
}
