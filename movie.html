<!DOCTYPE html>
<html lang="fr" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover"
    />
    <title>StreamFlix — Film</title>
    <script>
      // Early theme apply (works even if modules don't load)
      (function () {
        try {
          var t = localStorage.getItem("sf_theme");
          if (t) document.documentElement.setAttribute("data-theme", t);
        } catch (e) {}
      })();
    </script>
    <link rel="stylesheet" href="assets/css/global.css" />
    <link rel="stylesheet" href="assets/css/movie.css" />
  </head>
  <body>
    <header class="site-header" data-sticky>
      <div class="container header-inner">
        <a class="brand" href="index.html"
          ><span class="brand-logo">S</span
          ><span class="brand-text">StreamFlix</span></a
        >
        <nav class="main-nav" id="primary-navigation">
          <a href="index.html" class="nav-link">Accueil</a>
          <span class="nav-sep" aria-hidden="true"></span>
          <a href="browse.html" class="nav-link">Voir tous les films</a>
        </nav>
        <div class="header-actions">
          <button
            id="theme-toggle"
            class="btn ghost"
            aria-label="Changer le thème"
          >
            <span class="icon">🌓</span>
          </button>
          <button
            id="nav-toggle"
            class="btn ghost mobile-only"
            aria-label="Ouvrir le menu"
            aria-expanded="false"
            aria-controls="primary-navigation"
            title="Menu"
          >
            <span class="icon">☰</span>
          </button>
        </div>
      </div>
    </header>

    <main id="main" class="page-offset">
      <section class="movie-hero">
        <div class="container movie-hero-grid">
          <div
            class="movie-poster skeleton"
            id="moviePoster"
            aria-label="Affiche du film"
          ></div>
          <div class="movie-details">
            <nav class="breadcrumb" aria-label="Fil d'ariane">
              <a href="index.html">Accueil</a>
              <span aria-hidden="true">/</span>
              <a href="index.html#tendances">Films</a>
              <span aria-hidden="true">/</span>
              <span id="crumbTitle" class="current">…</span>
            </nav>

            <h1 id="movieTitle" class="movie-title">…</h1>
            <p id="movieMeta" class="movie-meta">…</p>
            <p id="movieOverview" class="movie-overview">…</p>

            <div class="movie-info-grid">
              <div class="info-item">
                <span class="info-label">Réalisateur</span>
                <span class="info-value" id="movieDirector">—</span>
              </div>
              <div class="info-item">
                <span class="info-label">Budget</span>
                <span class="info-value" id="movieBudget">—</span>
              </div>
              <div class="info-item">
                <span class="info-label">Recettes</span>
                <span class="info-value" id="movieRevenue">—</span>
              </div>
              <div class="info-item">
                <span class="info-label">Statut</span>
                <span class="info-value" id="movieStatus">—</span>
              </div>
            </div>

            <div class="movie-actions">
              <button class="btn primary" id="playBtn">Lecture</button>
              <button class="btn ghost" id="trailerBtn">Bande-annonce</button>
              <button class="btn ghost" id="addBtn">+ Ma liste</button>
            </div>
          </div>
        </div>

        <div class="container">
          <div class="tabs" data-tabs>
            <div class="tabs-list" role="tablist">
              <button
                role="tab"
                aria-selected="true"
                data-tab="overview"
                class="tab-btn"
              >
                Aperçu
              </button>
              <button
                role="tab"
                aria-selected="false"
                data-tab="cast"
                class="tab-btn"
              >
                Distribution
              </button>
              <button
                role="tab"
                aria-selected="false"
                data-tab="videos"
                class="tab-btn"
              >
                Vidéos
              </button>
              <button
                role="tab"
                aria-selected="false"
                data-tab="details"
                class="tab-btn"
              >
                Détails
              </button>
            </div>
            <div class="tab-panels">
              <section id="tab-overview" class="tab-panel is-active">
                <ul class="chips" id="movieGenres"></ul>
                <div class="overview-stats">
                  <div class="stat-item">
                    <span class="stat-label">Note</span>
                    <span class="stat-value" id="movieRating">—</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-label">Votes</span>
                    <span class="stat-value" id="movieVotes">—</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-label">Popularité</span>
                    <span class="stat-value" id="moviePopularity">—</span>
                  </div>
                </div>
              </section>
              <section id="tab-cast" class="tab-panel">
                <div class="cast-grid" id="castGrid">
                  <div class="loading">Chargement...</div>
                </div>
              </section>
              <section id="tab-videos" class="tab-panel">
                <div class="videos-grid" id="videosGrid">
                  <div class="loading">Chargement...</div>
                </div>
              </section>
              <section id="tab-details" class="tab-panel">
                <dl class="metadata" id="movieDetails"></dl>
              </section>
            </div>
            <div class="tabs-indicator" aria-hidden="true"></div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="container section-header">
          <h2 class="section-title">Similaires</h2>
        </div>
        <div class="container">
          <div
            class="grid movies landscape"
            data-collection="similar"
            data-skeleton="8"
            data-skeleton-only="false"
          >
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
            <article class="movie-card">
              <a class="card-media-wrap" href="movie.html"
                ><div class="card-media skeleton"></div>
                <div class="card-meta">
                  <h3 class="card-title">&nbsp;</h3>
                  <p class="card-subtitle">&nbsp;</p>
                </div></a
              >
              <button
                class="card-action btn icon-only"
                aria-label="Ajouter à la liste"
              >
                ＋
              </button>
            </article>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <p>© 2025 StreamFlix</p>
      </div>
    </footer>

    <template id="movie-card-template">
      <article class="movie-card appear" data-id="">
        <a class="card-media-wrap" href="movie.html">
          <div class="card-media">
            <img
              class="card-img skeleton"
              alt=""
              loading="lazy"
              width="320"
              height="180"
              sizes="(min-width:1440px) 280px, (min-width:960px) 240px, (min-width:720px) 220px, 34vw"
            />
            <div class="card-overlay">
              <div class="overlay-inner">
                <h4 class="overlay-title"></h4>
                <p class="overlay-desc"></p>
                <div class="overlay-actions">
                  <button class="btn small primary" aria-label="Lecture">
                    ▶ Lecture
                  </button>
                  <button class="btn small ghost" aria-label="Like">❤</button>
                </div>
              </div>
            </div>
          </div>
          <div class="card-meta">
            <h3 class="card-title"></h3>
            <p class="card-subtitle"></p>
          </div>
        </a>
        <button
          class="card-action btn icon-only"
          aria-label="Ajouter à la liste"
        >
          ＋
        </button>
      </article>
    </template>

    <script>
      // Fallback theme toggle (if modules fail)
      (function () {
        if (window.__sfThemeBound) return;
        var THEMES = ["dark", "light", "cinema"];
        function applyTheme(name) {
          if (THEMES.indexOf(name) < 0) name = "dark";
          document.documentElement.setAttribute("data-theme", name);
          try {
            localStorage.setItem("sf_theme", name);
          } catch (e) {}
        }
        var btn = document.getElementById("theme-toggle");
        if (btn) {
          btn.addEventListener("click", function () {
            var cur =
              document.documentElement.getAttribute("data-theme") || "dark";
            var next = THEMES[(THEMES.indexOf(cur) + 1) % THEMES.length];
            applyTheme(next);
          });
        }
        window.__sfThemeBound = true;
      })();
    </script>
    <script src="assets/js/main.js"></script>
    <script type="module" src="assets/js/pages/movie.js"></script>
  </body>
</html>
