/* components.css - cards, buttons, tabs, breadcrumb, skeleton */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.6rem .9rem;border-radius:var(--radius-m);border:1px solid transparent;background:transparent;color:inherit;cursor:pointer;transition:transform var(--dur-1), background-color var(--dur-2), border-color var(--dur-2)}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn.primary{background:var(--primary);color:var(--primary-contrast)}
.btn.ghost{border-color:color-mix(in srgb, var(--border) 60%, transparent)}
.btn.small{padding:.45rem .7rem;border-radius:var(--radius-s);font-size:var(--fs-300)}
.btn.icon-only{width:2.25rem;height:2.25rem;padding:0;display:grid;place-items:center}

/* Cards */
.movie-card{background:var(--card);border:1px solid color-mix(in srgb, var(--border) 65%, transparent);border-radius:var(--radius-m);box-shadow:var(--shadow);overflow:hidden;position:relative;transition:transform var(--dur-2) var(--ease-std), box-shadow var(--dur-2) var(--ease-std)}
.movie-card{width:100%;display:flex;flex-direction:column}
.movie-card .card-media-wrap{display:block}
.card-media{height:var(--card-h, 240px);width:100%;background:#222;border-bottom:1px solid color-mix(in srgb, var(--border) 65%, transparent);position:relative;overflow:hidden;aspect-ratio:auto}
/* landscape rows compute --card-h = var(--card-w)*9/16; no fixed aspect-ratio needed */
.card-img{width:100%;height:100%;object-fit:cover;display:block;opacity:0;transition:opacity var(--dur-2) var(--ease-std)}
.card-meta{padding:.6rem .75rem}
.card-title{font-size:var(--fs-300);margin:0 0 .25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.card-subtitle{color:var(--muted);margin:0;font-size:var(--fs-200);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.card-action{position:absolute;top:.5rem;right:.5rem;background:color-mix(in srgb, var(--bg-elev) 80%, transparent);backdrop-filter:blur(4px)}

/* Hover overlay removed (per latest request) */
.card-overlay{display:none}

/* Hover widen effect */
@media(hover:hover){
  .grid.movies > .movie-card{transition:transform var(--dur-2) var(--ease-std), width var(--dur-2) var(--ease-std), flex-basis var(--dur-2) var(--ease-std)}
  .grid.movies > .movie-card:hover{transform:translateY(-4px); z-index:2; width:calc(var(--card-w) * 2); flex-basis:calc(var(--card-w) * 2)}
}
.grid.movies > .movie-card:focus-within{transform:translateY(-4px); z-index:2; width:calc(var(--card-w) * 2); flex-basis:calc(var(--card-w) * 2)}

/* In catalog grid, keep width stable on hover */
.catalog-grid .movie-card{transition:transform var(--dur-2) var(--ease-std)}
.catalog-grid .movie-card:hover{transform:translateY(-4px)}

/* Top 10 ranking */
.grid.top10{counter-reset:rank}
.grid.top10 .movie-card{counter-increment:rank}
.grid.top10 .movie-card::before{
  content: counter(rank);
  position:absolute;left:-.25rem;bottom:2.5rem;z-index:0;
  font-size:clamp(2.5rem, 8vw, 5rem);font-weight:800;line-height:1;letter-spacing:-.02em;
  color:transparent; -webkit-text-stroke: 2px color-mix(in srgb, var(--primary) 85%, #ffffff00);
  text-shadow: 1px 0 color-mix(in srgb, var(--primary) 85%, #0000), -1px 0 color-mix(in srgb, var(--primary) 85%, #0000), 0 1px color-mix(in srgb, var(--primary) 85%, #0000), 0 -1px color-mix(in srgb, var(--primary) 85%, #0000);
}
.grid.top10 .movie-card > *{position:relative;z-index:1}

@media(hover:hover){
  .movie-card{perspective:800px}
  .movie-card:hover .card-media{transform:translateZ(10px) rotateY(4deg);transform-origin:center left;transition:transform var(--dur-3) var(--ease-std)}
}

/* Breadcrumb */
.breadcrumb{display:flex;gap:.5rem;align-items:center;color:var(--muted);font-size:var(--fs-200)}
.breadcrumb .current{color:var(--text)}

/* Tabs */
.tabs{margin-top:var(--space-5)}
.tabs-list{display:flex;gap:var(--space-3);position:relative;border-bottom:1px solid color-mix(in srgb, var(--border) 70%, transparent)}
.tab-btn{background:transparent;border:0;padding:.75rem .25rem;font:inherit;color:var(--muted);cursor:pointer}
.tab-btn[aria-selected="true"]{color:var(--text)}
.tab-panels{padding-top:var(--space-3)}
.tab-panel{display:none}
.tab-panel.is-active{display:block}
.tabs-indicator{position:relative;height:2px;background:transparent}
.tabs-indicator::after{content:"";position:absolute;height:2px;width:80px;left:0;top:-2px;background:var(--primary);border-radius:2px;transition:transform var(--dur-2) var(--ease-std), width var(--dur-2) var(--ease-std)}

/* Movie hero */
.movie-hero{padding-block:var(--space-6)}
.movie-hero-grid{display:grid;gap:var(--space-5);grid-template-columns:1fr}
.movie-poster{
  width:100%;
  aspect-ratio:16/9;
  border-radius:var(--radius-l);
  box-shadow:var(--shadow);
  background:#222;
  background-size:cover;
  background-position:center;
  min-height:140px;
  max-height:clamp(160px, 28vw, 260px);
}
.movie-details{display:grid;gap:var(--space-3)}
.movie-title{font-size:var(--fs-700);margin:0}
.movie-meta{color:var(--muted);margin:0}
.movie-overview{margin:0}
.chips{display:flex;flex-wrap:wrap;gap:.5rem;padding:0;margin:0;list-style:none}
.chips li{padding:.35rem .6rem;border:1px solid color-mix(in srgb, var(--border) 60%, transparent);border-radius:999px;font-size:var(--fs-200)}
.metadata{display:grid;grid-template-columns:auto 1fr;gap:.5rem;row-gap:.6rem}
.metadata dt{color:var(--muted)}

/* Skeletons & appear */
.skeleton{background:var(--skeleton);background-size:200% 100%;animation:skeleton 1.4s linear infinite}
.card-img.skeleton{filter:brightness(.9)}
@keyframes skeleton{from{background-position:200% 0}to{background-position:-200% 0}}
.appear{animation:fade-up .5s var(--ease-std) both}
@keyframes fade-up{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
